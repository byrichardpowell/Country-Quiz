(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(n,e,t){n.exports=t(47)},47:function(n,e,t){"use strict";t.r(e);var c=t(3),o=t.n(c),r=t(27),a=t.n(r),i=t(10),u=t(14),s=t(8),l=t(33),d=t(15),b=t.n(d),f=t(23),p=t(4);function g(){var n=Object(s.a)(["\n  display: block;\n  padding: 0 0 5px 0;\n"]);return g=function(){return n},n}var m=Object(p.b)(g()),h=function(n){var e=n.code,t=n.name,c=n.onSelect,o=n.onDeselect;return Object(p.c)("label",{css:m},Object(p.c)("input",{type:"checkbox",value:e,name:e,onChange:function(n){n.target.checked?c(e):o(e)}}),t)};function j(){var n=Object(s.a)(["\n  html,\n  body,\n  #root {\n    min-height: 100%;\n    height: 100%;\n    padding: 0;\n    margin: 0;\n  }\n  body {\n    background: ",';\n  }\n  * {\n    box-sizing: border-box;\n  }\n  form {\n    padding: 10px 0 0;\n  }\n  h1 {\n    margin: 0;\n    padding: 20px 0 0;\n  }\n  fieldset {\n    border-radius: 10px;\n    display: block;\n    border: none;\n    margin: 0 0 20px;\n    padding: 10px 0;\n  }\n  legend {\n    font-weight: bold;\n  }\n  label {\n    padding: 0 15px 0 0;\n  }\n  input[type="search"],\n  input[type="text"] {\n    padding: 5px 10px;\n    border: 1px solid ',";\n    border-radius: 2px;\n  }\n  button {\n    display: inline-block;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    padding: 10px 15px;\n    background: ",";\n    border-radius: 5px;\n    border: 1px solid transparent;\n    color: ",";\n    font-weight: bold;\n    font-size: 14px;\n    cursor: pointer;\n  }\n  button[disabled] {\n    opacity: 0.5;\n    cursor: default;\n  }\n"]);return j=function(){return n},n}var O="#fff",v="#FAF0E8",y="#B8D8D8",w="#083D77",x="#73A66B",k=Object(p.b)(j(),v,y,x,O);function S(){var n=Object(s.a)(["\n  max-height: 190px;\n  overflow: auto;\n  background: ",";\n  border: 1px solid ",";\n  border-top: none;\n"]);return S=function(){return n},n}function C(){var n=Object(s.a)(['\n  width: 100%;\n  max-width: 400px;\n  height: 240px;\n  position: relative;\n\n  input[type="search"] {\n    width: 100%;\n    padding: 15px 10px;\n  }\n\n  label {\n    display: block;\n    padding: 10px 5px 5px 5px;\n    cursor: pointer;\n  }\n\n  label:hover {\n    background: ',';\n  }\n\n  input[type="checkbox"] {\n    margin-right: 5px;\n  }\n']);return C=function(){return n},n}var A=Object(p.b)(C(),y),E=Object(p.b)(S(),O,y),W=[{code:"phone",name:"international phone codes"},{code:"continent",name:"continents"},{code:"currency",name:"currency"},{code:"languages",name:"languages"},{code:"emoji",name:"flags"}],q=function(n){var e=n.countries,t=n.didSetupQuiz,o=Object(c.useState)(""),r=Object(i.a)(o,2),a=r[0],s=r[1],l=Object(c.useState)([]),d=Object(i.a)(l,2),b=d[0],f=d[1],g=Object(c.useState)([]),m=Object(i.a)(g,2),j=m[0],O=m[1],v=b.length>0&&j.length>0;return Object(p.c)("form",{onSubmit:function(n){n.preventDefault(),t({selectedQuestions:j,selectedCountries:b})}},Object(p.c)("fieldset",null,Object(p.c)("legend",null,"Which countries?"," ",Object(p.c)("small",null,"(","".concat(b.length," selected"),")")),Object(p.c)("div",{css:A},Object(p.c)("input",{type:"search",placeholder:"Search for a country",onChange:function(n){return s(n.target.value)},value:a}),Object(p.c)("div",{css:E},e.filter(function(n){return n.name.toLowerCase().indexOf(a.toLowerCase())>-1||n.code.toLowerCase().indexOf(a.toLowerCase())>-1}).map(function(n){return Object(p.c)(h,Object.assign({},n,{key:n.code,onSelect:function(n){f([].concat(Object(u.a)(b),[n]))},onDeselect:function(e){return f(b.filter(function(e){return e!==n.code}))}}))})))),Object(p.c)("fieldset",null,Object(p.c)("legend",null,"What topics do you want questions on?"),W.map(function(n){return Object(p.c)(h,Object.assign({},n,{onSelect:function(n){O([].concat(Object(u.a)(j),[n]))},onDeselect:function(e){return O(j.filter(function(e){return n.code!==e}))}}))})),Object(p.c)("button",{type:"submit",disabled:!1===v},"Start the quiz!"))},z=function(n){var e=n.questionCode,t=n.country,r=n.options,a=n.didSubmit,u=Object(c.useState)(null),s=Object(i.a)(u,2),l=s[0],d=s[1];return o.a.createElement("form",{onSubmit:function(n){n.preventDefault(),a({questionCode:e,country:t,givenAnswer:r.find(function(n){return n.name===l.name}),correctAnswer:r.find(function(n){return!0===n.correct})}),d(null)}},o.a.createElement("fieldset",null,o.a.createElement("legend",null,function(n,e){switch(n){case"phone":return"What phone code does ".concat(e.name," have?");case"continent":return"What continent does ".concat(e.name," belong to?");case"currency":return"What currency does ".concat(e.name," use?");case"languages":return"What is one language ".concat(e.name," speaks?");case"emoji":return"What is the flag of ".concat(e.name,"?")}}(e,t)),r.map(function(n){return o.a.createElement("label",null,o.a.createElement("input",{type:"radio",name:"option",value:n.name,onChange:function(e){return d(n)},checked:l&&l.name===n.name}),n.name)})),o.a.createElement("button",{type:"submit",disabled:!l},"Next"))},D=function(n){var e=n.questions,t=n.didFinish,r=Object(c.useState)(0),a=Object(i.a)(r,2),s=a[0],l=a[1],d=Object(c.useState)([]),b=Object(i.a)(d,2),f=b[0],p=b[1],g=e[s];return o.a.createElement("div",null,o.a.createElement("h2",null,"Question ",s+1," of ",e.length),o.a.createElement(z,Object.assign({},g,{didSubmit:function(n){var c=s+1,o=[].concat(Object(u.a)(f),[n]);c===e.length?t(o):(p(o),l(c))}})))};function L(){var n=Object(s.a)(["\n  padding: 0 0 10px 0;\n"]);return L=function(){return n},n}var Q=Object(p.b)(L()),B=function(n){var e=n.questionCode,t=n.country,c=n.givenAnswer,o=n.correctAnswer;return Object(p.c)("li",{css:Q},Object(p.c)("strong",null,function(n,e){return n.name===e.name?"Correct":"Sorry"}(o,c))," ",function(n,e,t){switch(n){case"phone":return"".concat(t.name," is the international dialing code for ").concat(e.name);case"continent":return"".concat(e.name," belongs to the continent of ").concat(t.name);case"languages":return"".concat(e.name," speaks ").concat(e.languages[0].name);case"currency":return"".concat(t.name," is the currency of ").concat(e.name);case"emoji":return"".concat(e.emoji," is the flag for ").concat(e.name)}}(e,t,o)," ",function(n,e){return n.name!==e.name?"not ".concat(e.name):""}(o,c))};function N(){var n=Object(s.a)(["\n  padding: 10px 0 40px 0;\n  margin: 0;\n  list-style-type: none;\n"]);return N=function(){return n},n}var F=Object(p.b)(N()),T=function(n){var e=n.answers,t=n.reset,c=e.filter(function(n){return!0===n.givenAnswer.correct}).length,o=c/e.length;return Object(p.c)("div",null,Object(p.c)("h2",null,function(n){return 1===n?"Amazing! Congratulations! Perfecto!":n>.5?"Good job":n>.3?"Not bad":"Oh no!"}(o)),Object(p.c)("p",null,"".concat(c," out of ").concat(e.length,". ").concat(function(n){return 1===n?"Amazing job.  You're a real expert":n>.5?"That's pretty good.":n>.3?"Not bad.  Could be better.":"Better luck next time."}(o))),Object(p.c)("ol",{css:F},e.map(function(n){return Object(p.c)(B,n)})),Object(p.c)("button",{type:"button",onClick:function(n){n.preventDefault(),t()}},"Start a new quiz"))},P=t(13);function R(){var n=Object(s.a)(["\n    {\n      countries {\n        name\n        code\n        ","\n      }\n    }\n  "]);return R=function(){return n},n}function U(){var n=Object(s.a)(["\n  color: ",";\n"]);return U=function(){return n},n}function J(){var n=Object(s.a)(['\n  font-family: "Courier";\n  background: ',";\n  color: ",";\n  padding: 0 20px 20px;\n  height: 100%;\n  border: 10px solid ",";\n"]);return J=function(){return n},n}function G(){var n=Object(s.a)(["\n  {\n    countries {\n      name\n      code\n    }\n  }\n"]);return G=function(){return n},n}var I=new l.a({uri:"https://countries.trevorblades.com"}),Y=b()(G()),$=Object(p.b)(J(),O,w,v),H=Object(p.b)(U(),w),K=function(n){var e={phone:"phone\n    ",continent:"continent {\n      name\n    }\n    ",currency:"currency\n    ",languages:"languages {\n      name\n    }\n    ",emoji:"emoji\n    "},t=n.selectedQuestions.reduce(function(n,t){return n+e[t]},"");return b()(R(),t)},M=function(n,e){return Object(P.isString)(n[e])?n[e]:Object(P.isArray)(n[e])&&n[e].length?n[e][0].name:n[e].name},V=function(n,e,t){var c=t.reduce(function(t,c){var o=M(e,n),r=M(c,n);return o!==r&&!1===Object(P.isObject)(Object(P.find)(t,["name",r]))&&t.push({name:r,correct:!1}),t},[]),o={correct:!0,name:M(e,n)};return Object(P.shuffle)([].concat(Object(u.a)(Object(P.sampleSize)(c,3)),[o]))},X=function(){var n=Object(c.useState)(null),e=Object(i.a)(n,2),t=e[0],o=e[1],r=Object(c.useState)(null),a=Object(i.a)(r,2),u=a[0],s=a[1];return Object(p.c)("div",{css:$},Object(p.c)(p.a,{styles:k}),Object(p.c)("h1",{css:H},"A Country Quiz"),Object(p.c)("p",null,"Test your country knowledge."),t?null:Object(p.c)(f.a,{query:Y,client:I},function(n){var e=n.loading,t=n.error,c=n.data;return e?Object(p.c)("p",null,"Loading..."):t?Object(p.c)("p",null,t.message):Object(p.c)(q,{countries:c.countries,didSetupQuiz:o})}),t&&!u?Object(p.c)(f.a,{query:K(t),client:I},function(n){var e=n.loading,c=n.error,o=n.data;if(e)return Object(p.c)("p",null,"Loading...");if(c)return Object(p.c)("p",null,c.message);var r=t.selectedCountries.map(function(n){var e=o.countries.find(function(e){return e.code===n}),c=Object(P.sample)(t.selectedQuestions);return{country:e,questionCode:c,options:V(c,e,o.countries)}});return Object(p.c)(D,{questions:r,didFinish:s})}):null,u?Object(p.c)(T,{answers:u,reset:function(){o(null),s(null)}}):null)},Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(n,e){navigator.serviceWorker.register(n).then(function(n){n.onupdatefound=function(){var t=n.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}}).catch(function(n){console.error("Error during service worker registration:",n)})}a.a.render(o.a.createElement(X,null),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("/country-quiz",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/country-quiz","/service-worker.js");Z?(function(n,e){fetch(n).then(function(t){var c=t.headers.get("content-type");404===t.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then(function(n){n.unregister().then(function(){window.location.reload()})}):_(n,e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e,n),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):_(e,n)})}}()}},[[34,1,2]]]);
//# sourceMappingURL=main.a33368bb.chunk.js.map